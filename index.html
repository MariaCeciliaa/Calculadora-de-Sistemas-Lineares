<!DOCTYPE html>
<html>
<head>
    <title>Calculadora de Sistemas Lineares</title>
    <script>
        function calcularSistemaLinear() {
            var opcao = document.getElementById("opcao").value;
            var n = parseInt(document.getElementById("numero-equacoes").value);
            var matrizA = [];
            var vetorB = [];

            for (var i = 1; i <= n; i++) {
                var linha = [];
                for (var j = 1; j <= n; j++) {
                    linha.push(parseFloat(document.getElementById("a-" + i + "-" + j).value));
                }
                matrizA.push(linha);
                vetorB.push(parseFloat(document.getElementById("b-" + i).value));
            }

            var xhr = new XMLHttpRequest();
            xhr.open("POST", "/calcular", true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var resposta = JSON.parse(xhr.responseText);
                    exibirSolucao(resposta.x);
                }
            };
            var data = JSON.stringify({
                "opcao": opcao,
                "matrizA": matrizA,
                "vetorB": vetorB
            });
            xhr.send(data);
        }

        function exibirSolucao(solucao) {
            var solucoesDiv = document.getElementById("solucoes");
            solucoesDiv.innerHTML = "";

            for (var i = 0; i < solucao.length; i++) {
                var p = document.createElement("p");
                p.innerHTML = "x" + (i + 1) + " = " + solucao[i];
                solucoesDiv.appendChild(p);
            }
        }
    </script>
</head>

    <body>
        <h1>Calculadora de Sistemas Lineares</h1>
        <p>Opções:</p>
        <select id="opcao">
            <option value="1">Eliminação de Gauss</option>
            <option value="2">Gauss-Seidel</option>
        </select>
        <br><br>
        <label>Número de equações:</label>
        <input type="number" id="numero-equacoes">
        <br><br>
        <div id="coeficientes">
            <!-- Aqui serão adicionados os campos dinamicamente -->
        </div>
        <br>
        <button onclick="calcularSistemaLinear()">Calcular</button>
        <br><br>
        <div id="solucoes"></div>

        <script>
            var numeroEquacoesInput = document.getElementById("numero-equacoes");

            numeroEquacoesInput.addEventListener("change", function () {
                var numeroEquacoes = parseInt(numeroEquacoesInput.value);
                var coeficientesDiv = document.getElementById("coeficientes");
                coeficientesDiv.innerHTML = "";

                for (var i = 1; i <= numeroEquacoes; i++) {
                    var linhaDiv = document.createElement("div");

                    for (var j = 1; j <= numeroEquacoes; j++) {
                        var input = document.createElement("input");
                        input.type = "number";
                        input.id = "a-" + i + "-" + j;
                        linhaDiv.appendChild(input);
                    }

                    var bInput = document.createElement("input");
                    bInput.type = "number";
                    bInput.id = "b-" + i;
                    linhaDiv.appendChild(bInput);

                    coeficientesDiv.appendChild(linhaDiv);
                }
            });
        </script>

    </body>
</html>


  